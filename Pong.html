<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vijfluik | Remco Michels</title>
  <link rel="stylesheet" href="vijfluik.css">
  <script src="https://kit.fontawesome.com/55d59cd707.js" crossorigin="anonymous"></script>
</head>
<body>
  <div class="content-width">
    <div class="slideshow">
      <!-- Slideshow Items -->
      <div class="slideshow-items">
        <div class="item">
          <span>
            <b>
              <a href="index.html" class="home home1"><i class="fa-solid fa-house fa-2xl"></i></a>
            </b>
          </span>
            <div class="item-image-container">
              <img class="item-image" src="Images/Pong picture.png" />
            </div>
            <!-- Staggered Header Elements -->
            <div class="item-header">
              <span class="vertical-part"><b>P</b></span>
              <span class="vertical-part"><b>o</b></span>
              <span class="vertical-part"><b>n</b></span>
              <span class="vertical-part"><b>g</b></span>
            </div>
            <!-- Staggered Description Elements -->
            <div class="item-description">
              <span class="vertical-part">
                <b>Pong,</b>
              </span>
              <span class="vertical-part">
                <b>dit</b>
              </span>
              <span class="vertical-part">
                <b>was</b>
              </span>
              <span class="vertical-part">
                <b>mijn</b>
              </span>
              <span class="vertical-part">
                <b>eerste</b>
              </span>
              <span class="vertical-part">
                <b>project</b>
              </span>
              <span class="vertical-part">
                <b>wat</b>
              </span>
              <span class="vertical-part">
                <b>met</b>
              </span>
              <span class="vertical-part">
                <b>code</b>
              </span>
              <span class="vertical-part">
                <b>te</b>
              </span>
              <span class="vertical-part">
                <b>maken</b>
              </span>
              <span class="vertical-part">
                <b>had</b>
              </span>
              <span class="vertical-part">
                <b>ooit.</b>
              </span>
              <span class="vertical-part">
                <b>Dus</b>
              </span>
              <span class="vertical-part">
                <b>ik</b>
              </span>
              <span class="vertical-part">
                <b>had</b>
              </span>
              <span class="vertical-part">
                <b>veel</b>
              </span>
              <span class="vertical-part">
                <b>plezier</b>
              </span>
              <span class="vertical-part">
                <b>in</b>
              </span>
              <span class="vertical-part">
                <b>het</b>
              </span>
              <span class="vertical-part">
                <b>maken</b>
              </span>
              <span class="vertical-part">
                <b>van</b>
              </span>
              <span class="vertical-part">
                <b>deze</b>
              </span>
              <span class="vertical-part">
                <b>opdracht.</b>
              </span>
              <span class="vertical-part">
                <b>Plezier</b>
              </span>
              <span class="vertical-part">
                <b>is</b>
              </span>
              <span class="vertical-part">
                <b>het</b>
              </span>
              <span class="vertical-part">
                <b>leuk</b>
              </span>
              <span class="vertical-part">
                <b>vinden</b>
              </span>
              <span class="vertical-part">
                <b>van</b>
              </span>
              <span class="vertical-part">
                <b>het</b>
              </span>
              <span class="vertical-part">
                <b>maken</b>
              </span>
              <span class="vertical-part">
                <b>van</b>
              </span>
              <span class="vertical-part">
                <b>opdrachten</b>
              </span>
              <span class="vertical-part">
                <b>en</b>
              </span>
              <span class="vertical-part">
                <b>gezellig</b>
              </span>
              <span class="vertical-part">
                <b>kunnen</b>
              </span>
              <span class="vertical-part">
                <b>werken</b>
              </span>
              <span class="vertical-part">
                <b>met</b>
              </span>
              <span class="vertical-part">
                <b>klasgenoten.</b>
              </span>
              <span class="vertical-part">
                <b>
                  <a href="pong-uitleg.html" class="button">Click me!</a>
                </b>
              </span>
            </div>
          </div>
      </div>
      <div class="controls">
        <ul>
          <li class="control" data-index="0"></li>
        </ul>
      </div>
    </div>
  </div>

  <script>// Master DOManipulator v2 ------------------------------------------------------------
    const items = document.querySelectorAll('.item'),
      controls = document.querySelectorAll('.control'),
      headerItems = document.querySelectorAll('.item-header'),
      descriptionItems = document.querySelectorAll('.item-description'),
      activeDelay = .76,
      interval = 5000;
    
    let current = 0;
    
    const slider = {
      init: () => {
        controls.forEach(control => control.addEventListener('click', (e) => { slider.clickedControl(e) }));
        controls[current].classList.add('active');
        items[current].classList.add('active');
      },
      nextSlide: () => { // Increment current slide and add active class
        slider.reset();
        if (current === items.length - 1) current = -1; // Check if current slide is last in array
        current++;
        controls[current].classList.add('active');
        items[current].classList.add('active');
        slider.transitionDelay(headerItems);
        slider.transitionDelay(descriptionItems);
      },
      clickedControl: (e) => { // Add active class to clicked control and corresponding slide
        slider.reset();
        clearInterval(intervalF);
    
        const control = e.target,
          dataIndex = Number(control.dataset.index);
    
        control.classList.add('active');
        items.forEach((item, index) => { 
          if (index === dataIndex) { // Add active class to corresponding slide
            item.classList.add('active');
          }
        })
        current = dataIndex; // Update current slide
        slider.transitionDelay(headerItems);
        slider.transitionDelay(descriptionItems);
        intervalF = setInterval(slider.nextSlide, interval); // Fire that bad boi back up
      },
      reset: () => { // Remove active classes
        items.forEach(item => item.classList.remove('active'));
        controls.forEach(control => control.classList.remove('active'));
      },
      transitionDelay: (items) => { // Set incrementing css transition-delay for .item-header & .item-description, .vertical-part, b elements
        let seconds;
        
        items.forEach(item => {
          const children = item.childNodes; // .vertical-part(s)
          let count = 1,
            delay;
          
          item.classList.value === 'item-header' ? seconds = .015 : seconds = .007;
    
          children.forEach(child => { // iterate through .vertical-part(s) and style b element
            if (child.classList) {
              item.parentNode.classList.contains('active') ? delay = count * seconds + activeDelay : delay = count * seconds;
              child.firstElementChild.style.transitionDelay = `${delay}s`; // b element
              count++;
            }
          })
        })
      },
    }
    
    let intervalF = setInterval(slider.nextSlide, interval);
    slider.init();
  </script>
</body>
</html>